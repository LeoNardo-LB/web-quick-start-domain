## Context

当前订单聚合根 `OrderAggr` 仅支持按创建时间排序。业务需要手动控制订单在列表中的显示顺序，例如促销订单置顶、VIP 订单优先等。

**约束条件**：

- 遵循 DDD 架构规范
- 字段变更需要同步更新数据库
- 必须通过 TDD 流程验证

## Goals / Non-Goals

**Goals:**

- 在 OrderAggr 中添加 sortOrder 字段
- 支持创建时设置默认排序值
- 支持后续修改排序值
- 通过 TDD 流程验证代码质量

**Non-Goals:**

- 不修改订单列表查询 API（那是适配层的职责）
- 不涉及批量排序调整功能
- 不涉及排序值的历史记录

## Decisions

### 1. 字段类型选择

**决定**: 使用 `Integer` 类型
**理由**:

- 与常用排序场景一致（如 SQL ORDER BY）
- 支持负值，灵活性高
- 避免大数字的复杂性

**替代方案**:

- `Long`: 不需要，Integer 范围足够
- `BigDecimal`: 过于复杂，不适合排序场景

### 2. 默认值策略

**决定**: 默认值为 `0`
**理由**:

- 0 表示"无特殊排序"，按创建时间排序
- 正值表示置顶，值越大越靠前
- 负值表示降权（可选）

### 3. 修改权限

**决定**: 只有 CREATED 状态的订单可以修改排序值
**理由**:

- 遵循最小权限原则
- 已支付/发货的订单排序调整意义不大

## Risks / Trade-offs

**[风险] 并发修改**

- 缓解: 在聚合根层面使用乐观锁（继承自 AggregateRoot）

**[风险] 排序值范围滥用**

- 缓解: 文档说明推荐范围（-100 到 100）

**[权衡] 不支持批量调整**

- 如果需要批量调整，可在后续迭代中添加
